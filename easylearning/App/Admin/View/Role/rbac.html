{:W('TopBar/topbar')}
<style type="text/css">
	
	.wminimize:hover{
		text-decoration:none;
	}
	.table thead>tr>th, .table tbody>tr>th, .table tfoot>tr>th, .table thead>tr>td, .table tbody>tr>td, .table tfoot>tr>td {
			padding: 5px;
			line-height: 1.428571429;
			vertical-align: top;
			 border-top: 0px solid #ddd; 
			 width: 1px;
			 padding-right: 2px;
}
.td19{
	width:10px;
}
	</style>
		<div class="main-container" id="main-container">
			<script type="text/javascript">
				try{ace.settings.check('main-container' , 'fixed')}catch(e){}
			</script>

			<div class="main-container-inner">
				<a class="menu-toggler" id="menu-toggler" href="#">
					<span class="menu-text"></span>
				</a>

				{:W('TopBar/leftbar')}

				<div class="main-content">
					<div class="breadcrumbs" id="breadcrumbs">
						<script type="text/javascript">
							try{ace.settings.check('breadcrumbs' , 'fixed')}catch(e){}
						</script>

						<ul class="breadcrumb">
							<li>
								<i class="icon-home home-icon"></i>
								<a href="{:U('Index/index')}">首页</a>
							</li>

							<li>
								<a href="#">权限管理</a>
							</li>
							<li class="active">角色授权</li>
						</ul><!-- .breadcrumb -->

						
					</div>

					<div class="page-content">
						<div class="page-header">
						 
							<a class="label label-xlg label-primary arrowed-right " href="{:U('Role/index')}">
							返回列表</a>
							
							
							
						</div>

				<div class="row">
					<div class="col-xs-12">
						<!-- PAGE CONTENT BEGINS -->

						<div class="row">
							<div class="col-xs-12">
								<div class="table-responsive">
								  <form action="" method="post">
									<table id="sample-table-1" class="table table-striped table-hover">
										

										<tbody>
										 <volist name="list" id="val">
										    <tr>
												<th class="right" colspan="6">
												<input type="checkbox" class="ace" name="node[]"  value="{$val.id}" <if condition="$val.access eq 1">checked=checked</if>/>
														<span class="lbl">&nbsp;&nbsp;{$val.title}</span>
													
												</th>
												
											</tr>
										  <volist name="val.child" id="vo">
											<tr>
												<td class="right td{$val.id}">
														<input type="checkbox" class="ace" name="node[]"  value="{$vo.id}" <if condition="$vo.access eq 1">checked=checked</if> />
														<span class="lbl">&nbsp;&nbsp;{$vo.title}</span>
												</td>
											 <volist name="vo.child" id="v">
												<td class="td{$val.id}">
														<input type="checkbox" class="ace" name="node[]" value="{$v.id}" <if condition="$v.access eq 1">checked=checked</if>/>
														<span class="lbl">&nbsp;&nbsp;{$v.title}</span>
												</td>
											 </volist>
											</tr>
										  </volist>

										 </volist>
										<tr>
											<td colspan="5">
											<input type="hidden" name="id" value="{$id}">
											<button class="btn btn-info " type="submit">
												<i class="icon-ok bigger-110"></i>
												提交
											</button></td>
										</tr>

										</tbody>
									
								   </table>
								  
								</form>
								</div><!-- /.table-responsive -->
								<div class="col-sm-6 pull-right">
									<div class="dataTables_paginate paging_bootstrap ">
										<ul class="pagination ">
										
										</ul>
									</div>
								</div>
							</div><!-- /span -->
						</div><!-- /row -->

					

					
					</div><!-- /.col -->
				</div><!-- /.row -->
					</div><!-- /.page-content -->
				</div><!-- /.main-content -->

			
			</div><!-- /.main-container-inner -->
}

			
<include file="Public:footer" />

		<!-- ace scripts -->

		
<script type="text/javascript">
	jQuery(function($) {
		var oTable1 = $('#sample-table-2').dataTable( {
		"aoColumns": [
		  { "bSortable": false },
		  null, null,null, null, null,
		  { "bSortable": false }
		] } );
		
		
		$('table th input:checkbox').on('click' , function(){
			var that = this;
			var id='.td'+$(this).val();
			$(this).closest('tr').nextAll().find(id+' input:checkbox')
			.each(function(){
				this.checked = that.checked;
				//$(this).closest('tr').toggleClass('selected');
			});
				
		});
	
		$('table .right input:checkbox').on('click' , function(){
			var that = this;
			//alert($(this).closest('td').attr('class'));
			$(this).closest('tr').find('td input:checkbox')
			.each(function(){
				this.checked = that.checked;
				$(this).closest('tr').toggleClass('selected');
			});
				
		});
	
		
	})
</script>